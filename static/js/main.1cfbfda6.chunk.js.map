{"version":3,"sources":["utils/config.js","utils/near.js","components/Wallet.js","components/utils/Notifications.js","components/marketplace/AddProduct.js","components/marketplace/Product.js","components/utils/Loader.js","utils/marketplace.js","components/marketplace/Products.js","components/utils/Cover.js","assets/img/sandwich.jpg","App.js","reportWebVitals.js","index.js"],"names":["CONTRACT_NAME","process","environment","env","networkId","nodeUrl","contractName","walletUrl","helperUrl","explorerUrl","Error","nearEnv","a","connect","Object","assign","deps","keyStore","keyStores","BrowserLocalStorageKeyStore","near","window","walletConnection","WalletConnection","accountId","getAccountId","contract","Contract","account","viewMethods","changeMethods","accountBalance","formatNearAmount","getAccountBalance","total","login","requestSignIn","logout","signOut","location","reload","Wallet","address","amount","symbol","destroy","Dropdown","Toggle","variant","align","id","className","Spinner","animation","size","Menu","Item","href","target","Stack","direction","gap","Divider","as","onClick","Notification","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","NotificationSuccess","text","NotificationError","DefaultProps","defaultProps","AddProduct","save","useState","name","setName","image","setImage","description","setDescription","setLocation","price","setPrice","show","setShow","handleClose","Button","style","width","class","Modal","onHide","centered","Header","closeButton","Title","Form","Body","FloatingLabel","controlId","label","Control","type","onChange","e","value","placeholder","height","Footer","disabled","Product","product","buy","sold","owner","Col","Card","Badge","bg","src","alt","objectFit","Text","utils","format","Loader","role","GAS","buyProduct","productId","Products","products","setProducts","loading","setLoading","getProducts","useCallback","console","log","error","addProduct","data","uuid4","parseNearAmount","setProduct","then","resp","toast","useEffect","Row","xs","sm","lg","map","_product","Cover","coverImg","background","minHeight","maxWidth","App","balance","setBalance","getBalance","Container","fluid","Nav","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","nearInitPromise","initializeContract","ReactDOM","render","StrictMode","document","getElementById","catch"],"mappings":"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","file":"static/js/main.1cfbfda6.chunk.js","sourcesContent":["const CONTRACT_NAME = process.env.CONTRACT_NAME || \"wrapcity01.computerbleu.testnet\"; // put here a smart contracts' name\r\n\r\nfunction environment(env) {\r\n  switch (env) {\r\n    case \"mainnet\":\r\n      return {\r\n        networkId: \"mainnet\",\r\n        nodeUrl: \"https://rpc.mainnet.near.org\",\r\n        contractName: CONTRACT_NAME,\r\n        walletUrl: \"https://wallet.near.org\",\r\n        helperUrl: \"https://helper.mainnet.near.org\",\r\n        explorerUrl: \"https://explorer.mainnet.near.org\",\r\n      };\r\n    case \"testnet\":\r\n      return {\r\n        networkId: \"testnet\",\r\n        nodeUrl: \"https://rpc.testnet.near.org\",\r\n        contractName: CONTRACT_NAME,\r\n        walletUrl: \"https://wallet.testnet.near.org\",\r\n        helperUrl: \"https://helper.testnet.near.org\",\r\n        explorerUrl: \"https://explorer.testnet.near.org\",\r\n      };\r\n    default:\r\n      throw Error(`Unknown environment '${env}'.`);\r\n  }\r\n}\r\n\r\nexport default environment;\r\n","import environment from \"./config\";\r\nimport { connect, Contract, keyStores, WalletConnection } from \"near-api-js\";\r\nimport { formatNearAmount } from \"near-api-js/lib/utils/format\";\r\n\r\nconst nearEnv = environment(\"testnet\");\r\n\r\nexport async function initializeContract() {\r\n  const near = await connect(\r\n    Object.assign(\r\n      { deps: { keyStore: new keyStores.BrowserLocalStorageKeyStore() } },\r\n      nearEnv\r\n    )\r\n  );\r\n  window.walletConnection = new WalletConnection(near);\r\n  window.accountId = window.walletConnection.getAccountId();\r\n  window.contract = new Contract(\r\n    window.walletConnection.account(),\r\n    nearEnv.contractName,\r\n    // Methods from the AssemblyScript contract are listed here.\r\n    // If you are working with a contract written in Rust, replace methods names using the correct case:\r\n    //  - getProduct  -> get_product\r\n    //  - getProducts -> get_products\r\n    //  - buyProducts -> buy_products\r\n    //  - setProduct  -> set_product\r\n    {\r\n      // List here all view methods\r\n      viewMethods: [\"getProduct\", \"getProducts\"],\r\n      // List call methods that change state\r\n      changeMethods: [\"buyProduct\", \"setProduct\"],\r\n    }\r\n  );\r\n}\r\n\r\nexport async function accountBalance() {\r\n  return formatNearAmount(\r\n    (await window.walletConnection.account().getAccountBalance()).total,\r\n    2\r\n  );\r\n}\r\n\r\nexport async function getAccountId() {\r\n  return window.walletConnection.getAccountId();\r\n}\r\n\r\nexport function login() {\r\n  window.walletConnection.requestSignIn(nearEnv.contractName);\r\n}\r\n\r\nexport function logout() {\r\n  window.walletConnection.signOut();\r\n  window.location.reload();\r\n}\r\n","import React from \"react\";\r\nimport { Dropdown, Stack, Spinner } from \"react-bootstrap\";\r\n\r\nconst Wallet = ({ address, amount, symbol, destroy }) => {\r\n  if (address) {\r\n    return (\r\n      <>\r\n        <Dropdown>\r\n          <Dropdown.Toggle\r\n            variant=\"light\"\r\n            align=\"end\"\r\n            id=\"dropdown-basic\"\r\n            className=\"d-flex align-items-center border rounded-pill py-1\"\r\n          >\r\n            {amount ? (\r\n              <>\r\n                {amount} <span className=\"ms-1\"> {symbol}</span>\r\n              </>\r\n            ) : (\r\n              <Spinner animation=\"border\" size=\"sm\" className=\"opacity-25\" />\r\n            )}\r\n          </Dropdown.Toggle>\r\n\r\n          <Dropdown.Menu className=\"shadow-lg border-0\">\r\n            <Dropdown.Item\r\n              href={`https://explorer.testnet.near.org/accounts/${address}`}\r\n              target=\"_blank\"\r\n            >\r\n              <Stack direction=\"horizontal\" gap={2}>\r\n                <i className=\"bi bi-person-circle fs-4\" />\r\n                <span className=\"font-monospace\">{address}</span>\r\n              </Stack>\r\n            </Dropdown.Item>\r\n\r\n            <Dropdown.Divider />\r\n            <Dropdown.Item\r\n              as=\"button\"\r\n              className=\"d-flex align-items-center\"\r\n              onClick={() => {\r\n                destroy();\r\n              }}\r\n            >\r\n              <i className=\"bi bi-box-arrow-right me-2 fs-4\" />\r\n              Disconnect\r\n            </Dropdown.Item>\r\n          </Dropdown.Menu>\r\n        </Dropdown>\r\n      </>\r\n    );\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nexport default Wallet;\r\n","import React from \"react\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nconst Notification = () => (\r\n  <ToastContainer\r\n    position=\"bottom-center\"\r\n    autoClose={5000}\r\n    hideProgressBar\r\n    newestOnTop\r\n    closeOnClick\r\n    rtl={false}\r\n    pauseOnFocusLoss\r\n    draggable={false}\r\n    pauseOnHover\r\n  />\r\n);\r\n\r\nconst NotificationSuccess = ({ text }) => (\r\n  <div>\r\n    <i className=\"bi bi-check-circle-fill text-success mx-2\" />\r\n    <span className=\"text-secondary mx-1\">{text}</span>\r\n  </div>\r\n);\r\n\r\nconst NotificationError = ({ text }) => (\r\n  <div>\r\n    <i className=\"bi bi-x-circle-fill text-danger mx-2\" />\r\n    <span className=\"text-secondary mx-1\">{text}</span>\r\n  </div>\r\n);\r\n\r\nconst Props = {\r\n  text: PropTypes.string,\r\n};\r\n\r\nconst DefaultProps = {\r\n  text: \"\",\r\n};\r\n\r\nNotificationSuccess.propTypes = Props;\r\nNotificationSuccess.defaultProps = DefaultProps;\r\n\r\nNotificationError.propTypes = Props;\r\nNotificationError.defaultProps = DefaultProps;\r\n\r\nexport { Notification, NotificationSuccess, NotificationError };\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Button, Modal, Form, FloatingLabel } from \"react-bootstrap\";\r\n\r\nconst AddProduct = ({ save }) => {\r\n  const [name, setName] = useState(\"\");\r\n  const [image, setImage] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [location, setLocation] = useState(\"\");\r\n  const [price, setPrice] = useState(0);\r\n  const isFormFilled = () => name && image && description && location && price;\r\n\r\n  const [show, setShow] = useState(false);\r\n\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n\r\n  return (\r\n    <>\r\n      <Button\r\n        onClick={handleShow}\r\n        variant=\"dark\"\r\n        className=\"rounded-pill px-0\"\r\n        style={{ width: \"38px\" }}\r\n      >\r\n        <i class=\"bi bi-plus\"></i>\r\n      </Button>\r\n      <Modal show={show} onHide={handleClose} centered>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>New Product</Modal.Title>\r\n        </Modal.Header>\r\n        <Form>\r\n          <Modal.Body>\r\n            <FloatingLabel\r\n              controlId=\"inputName\"\r\n              label=\"Product name\"\r\n              className=\"mb-3\"\r\n            >\r\n              <Form.Control\r\n                type=\"text\"\r\n                onChange={(e) => {\r\n                  setName(e.target.value);\r\n                }}\r\n                placeholder=\"Enter name of product\"\r\n              />\r\n            </FloatingLabel>\r\n            <FloatingLabel\r\n              controlId=\"inputUrl\"\r\n              label=\"Image URL\"\r\n              className=\"mb-3\"\r\n            >\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Image URL\"\r\n                onChange={(e) => {\r\n                  setImage(e.target.value);\r\n                }}\r\n              />\r\n            </FloatingLabel>\r\n            <FloatingLabel\r\n              controlId=\"inputDescription\"\r\n              label=\"Description\"\r\n              className=\"mb-3\"\r\n            >\r\n              <Form.Control\r\n                as=\"textarea\"\r\n                placeholder=\"description\"\r\n                style={{ height: \"80px\" }}\r\n                onChange={(e) => {\r\n                  setDescription(e.target.value);\r\n                }}\r\n              />\r\n            </FloatingLabel>\r\n            <FloatingLabel\r\n              controlId=\"inputLocation\"\r\n              label=\"Location\"\r\n              className=\"mb-3\"\r\n            >\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Location\"\r\n                onChange={(e) => {\r\n                  setLocation(e.target.value);\r\n                }}\r\n              />\r\n            </FloatingLabel>\r\n            <FloatingLabel\r\n              controlId=\"inputPrice\"\r\n              label=\"Price\"\r\n              className=\"mb-3\"\r\n            >\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Price\"\r\n                onChange={(e) => {\r\n                  setPrice(e.target.value);\r\n                }}\r\n              />\r\n            </FloatingLabel>\r\n          </Modal.Body>\r\n        </Form>\r\n        <Modal.Footer>\r\n          <Button variant=\"outline-secondary\" onClick={handleClose}>\r\n            Close\r\n          </Button>\r\n          <Button\r\n            variant=\"dark\"\r\n            disabled={!isFormFilled()}\r\n            onClick={() => {\r\n              save({\r\n                name,\r\n                image,\r\n                description,\r\n                location,\r\n                price,\r\n              });\r\n              handleClose();\r\n            }}\r\n          >\r\n            Save product\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nAddProduct.propTypes = {\r\n  save: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default AddProduct;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { utils } from \"near-api-js\";\r\nimport { Card, Button, Col, Badge, Stack } from \"react-bootstrap\";\r\n\r\nconst Product = ({ product, buy }) => {\r\n  const { id, price, name, description, sold, location, image, owner } =\r\n    product;\r\n\r\n  const triggerBuy = () => {\r\n    buy(id, price);\r\n  };\r\n\r\n  return (\r\n    <Col key={id}>\r\n      <Card className=\" h-100\">\r\n        <Card.Header>\r\n          <Stack direction=\"horizontal\" gap={2}>\r\n            <span className=\"font-monospace text-secondary\">{owner}</span>\r\n            <Badge bg=\"secondary\" className=\"ms-auto\">\r\n              {sold} Sold\r\n            </Badge>\r\n          </Stack>\r\n        </Card.Header>\r\n        <div className=\" ratio ratio-4x3\">\r\n          <img src={image} alt={name} style={{ objectFit: \"cover\" }} />\r\n        </div>\r\n        <Card.Body className=\"d-flex  flex-column text-center\">\r\n          <Card.Title>{name}</Card.Title>\r\n          <Card.Text className=\"flex-grow-1 \">{description}</Card.Text>\r\n          <Card.Text className=\"text-secondary\">\r\n            <span>{location}</span>\r\n          </Card.Text>\r\n          <Button\r\n            variant=\"outline-dark\"\r\n            onClick={triggerBuy}\r\n            className=\"w-100 py-3\"\r\n          >\r\n            Buy for {utils.format.formatNearAmount(price)} NEAR\r\n          </Button>\r\n        </Card.Body>\r\n      </Card>\r\n    </Col>\r\n  );\r\n};\r\n\r\nProduct.propTypes = {\r\n  product: PropTypes.instanceOf(Object).isRequired,\r\n  buy: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Product;\r\n","import React from \"react\";\r\nimport { Spinner } from \"react-bootstrap\";\r\n\r\nconst Loader = () => (\r\n  <div className=\"d-flex justify-content-center\">\r\n    <Spinner animation=\"border\" role=\"status\" className=\"opacity-25\">\r\n      <span className=\"visually-hidden\">Loading...</span>\r\n    </Spinner>\r\n  </div>\r\n);\r\nexport default Loader;\r\n","import { v4 as uuid4 } from \"uuid\";\r\nimport { parseNearAmount } from \"near-api-js/lib/utils/format\";\r\n\r\nconst GAS = 100000000000000;\r\n\r\nexport function createProduct(product) {\r\n  product.id = uuid4();\r\n  product.price = parseNearAmount(product.price + \"\");\r\n  return window.contract.setProduct({ product }); // set_product for the Rust contract\r\n}\r\n\r\nexport function getProducts() {\r\n  return window.contract.getProducts(); // get_products for the Rust contract\r\n}\r\n\r\nexport async function buyProduct({ id, price }) {\r\n  await window.contract.buyProduct({ productId: id }, GAS, price); // buy_product for the Rust contract\r\n}\r\n","import React, { useEffect, useState, useCallback } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport AddProduct from \"./AddProduct\";\r\nimport Product from \"./Product\";\r\nimport Loader from \"../utils/Loader\";\r\nimport { Row } from \"react-bootstrap\";\r\n\r\nimport { NotificationSuccess, NotificationError } from \"../utils/Notifications\";\r\nimport {\r\n  getProducts as getProductList,\r\n  buyProduct,\r\n  createProduct,\r\n} from \"../../utils/marketplace\";\r\n\r\nconst Products = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // function to get the list of products\r\n  const getProducts = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      setProducts(await getProductList());\r\n    } catch (error) {\r\n      console.log({ error });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  });\r\n\r\n  const addProduct = async (data) => {\r\n    try {\r\n      setLoading(true);\r\n      createProduct(data).then((resp) => {\r\n        getProducts();\r\n      });\r\n      toast(<NotificationSuccess text=\"Product added successfully.\" />);\r\n    } catch (error) {\r\n      console.log({ error });\r\n      toast(<NotificationError text=\"Failed to create a product.\" />);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  //  function to initiate transaction\r\n  const buy = async (id, price) => {\r\n    try {\r\n      await buyProduct({\r\n        id,\r\n        price,\r\n      }).then((resp) => getProducts());\r\n      toast(<NotificationSuccess text=\"Product bought successfully\" />);\r\n    } catch (error) {\r\n      toast(<NotificationError text=\"Failed to purchase product.\" />);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getProducts();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {!loading ? (\r\n        <>\r\n          <div className=\"d-flex justify-content-between align-items-center mb-4\">\r\n            <h1 className=\"fs-4 fw-bold mb-0\">Reel Wraps</h1>\r\n            <AddProduct save={addProduct} />\r\n          </div>\r\n          <Row xs={1} sm={2} lg={3} className=\"g-3  mb-5 g-xl-4 g-xxl-5\">\r\n            {products.map((_product) => (\r\n              <Product\r\n                product={{\r\n                  ..._product,\r\n                }}\r\n                buy={buy}\r\n              />\r\n            ))}\r\n          </Row>\r\n        </>\r\n      ) : (\r\n        <Loader />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Products;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Button } from \"react-bootstrap\";\r\n\r\nconst Cover = ({ name, login, coverImg }) => {\r\n  if ((name, login, coverImg)) {\r\n    return (\r\n      <div\r\n        className=\"d-flex justify-content-center flex-column text-center \"\r\n        style={{ background: \"#000\", minHeight: \"100vh\" }}\r\n      >\r\n        <div className=\"mt-auto text-light mb-5\">\r\n          <div\r\n            className=\" ratio ratio-1x1 mx-auto mb-2\"\r\n            style={{ maxWidth: \"320px\" }}\r\n          >\r\n            <img src={coverImg} alt=\"\" />\r\n          </div>\r\n          <h1>{name}</h1>\r\n          <p>Please connect your wallet to continue.</p>\r\n          <Button\r\n            onClick={login}\r\n            variant=\"outline-light\"\r\n            className=\"rounded-pill px-3 mt-3\"\r\n          >\r\n            Connect Wallet\r\n          </Button>\r\n        </div>\r\n        <p className=\"mt-auto text-secondary\">Powered by NEAR</p>\r\n      </div>\r\n    );\r\n  }\r\n  return null;\r\n};\r\n\r\nCover.propTypes = {\r\n  name: PropTypes.string,\r\n};\r\n\r\nCover.defaultProps = {\r\n  name: \"\",\r\n};\r\n\r\nexport default Cover;\r\n","export default __webpack_public_path__ + \"static/media/sandwich.37862b07.jpg\";","import React, { useEffect, useCallback, useState } from \"react\";\r\nimport { Container, Nav } from \"react-bootstrap\";\r\nimport { login, logout as destroy, accountBalance } from \"./utils/near\";\r\nimport Wallet from \"./components/Wallet\";\r\nimport { Notification } from \"./components/utils/Notifications\";\r\nimport Products from \"./components/marketplace/Products\";\r\nimport Cover from \"./components/utils/Cover\";\r\nimport coverImg from \"./assets/img/sandwich.jpg\";\r\nimport \"./App.css\";\r\n\r\nconst App = function AppWrapper() {\r\n  const account = window.walletConnection.account();\r\n\r\n  const [balance, setBalance] = useState(\"0\");\r\n\r\n  const getBalance = useCallback(async () => {\r\n    if (account.accountId) {\r\n      setBalance(await accountBalance());\r\n    }\r\n  });\r\n\r\n  useEffect(() => {\r\n    getBalance();\r\n  }, [getBalance]);\r\n\r\n  return (\r\n    <>\r\n      <Notification />\r\n      {account.accountId ? (\r\n        <Container fluid=\"md\">\r\n          <Nav className=\"justify-content-end pt-3 pb-5\">\r\n            <Nav.Item>\r\n              <Wallet\r\n                address={account.accountId}\r\n                amount={balance}\r\n                symbol=\"NEAR\"\r\n                destroy={destroy}\r\n              />\r\n            </Nav.Item>\r\n          </Nav>\r\n          <main>\r\n            <Products />\r\n          </main>\r\n        </Container>\r\n      ) : (\r\n        <Cover name=\"\" login={login} coverImg={coverImg} />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","const reportWebVitals = (onPerfEntry) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({\r\n      getCLS, getFID, getFCP, getLCP, getTTFB,\r\n    }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport { initializeContract } from \"./utils/near\";\r\n\r\nimport \"bootstrap-icons/font/bootstrap-icons.css\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nwindow.nearInitPromise = initializeContract()\r\n  .then(() => {\r\n    ReactDOM.render(\r\n      <React.StrictMode>\r\n        <App />\r\n      </React.StrictMode>,\r\n      document.getElementById(\"root\")\r\n    );\r\n  })\r\n  .catch(console.error);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}